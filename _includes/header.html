<!-- 1. BARRE DE PROMOTION -->
<div class="top-bar">
    <p>üöö Livraison rapide de Saint-Domingue vers Ha√Øti ! üá©üá¥ ‚ûî üá≠üáπ</p>
</div>

<header class="main-header">
  <div class="header-container">
    <!-- LOGO -->
    <div class="logo">
      <a href="/">Boutique <span>Piyay</span></a>
      <p class="tagline">Achetez depuis Saint-Domingue en toute simplicit√©</p>
    </div>

    <!-- BARRE DE RECHERCHE -->
    <div class="search-box">
      <div class="search-input-wrapper">
        <input type="text" id="search-input" placeholder="Rechercher un produit..." onkeyup="liveSearch()">
        <button class="search-btn" onclick="liveSearch()">üîç</button>
      </div>
      <div id="search-results" class="search-dropdown"></div>
    </div>

    <!-- ACTIONS -->
    <div class="header-actions">
      <!-- Mon Compte -->
      <div class="action-item hide-mobile" onclick="openLoginModal()">
        <span class="icon">üë§</span>
        <span class="label">Mon compte</span>
      </div>

      <!-- Panier -->
      <div class="action-item cart-trigger" id="cart-header-btn" onclick="openOrderModal()">
        <div class="cart-icon-wrapper">
          <span class="icon">üõí</span>
          <span id="cart-badge" class="badge">0</span>
        </div>
        <span class="label">Panier</span>
      </div>
    </div>
  </div>

  <!-- NAVIGATION -->
  <nav class="sub-nav">
    <div class="nav-links">
      <a href="/" class="active">Tout</a>
      {% for category in site.categories %}
        <a href="{{ category.url }}">{{ category.title }}</a>
      {% endfor %}
    </div>
  </nav>
</header>

<!-- Modal de Connexion (Simple Placeholder) -->
<div id="login-modal" class="modal-overlay" style="display:none;">
    <div class="modal-content" style="max-width: 400px; text-align: center;">
        <div class="modal-header">
            <h2>Connexion</h2>
            <button class="modal-close" onclick="closeLoginModal()">‚úï</button>
        </div>
        <div class="modal-body">
            <p style="margin-bottom: 20px;">Connectez-vous pour suivre vos commandes.</p>
            <div class="form-group" style="text-align: left;">
                <label>Email</label>
                <input type="email" placeholder="votre@email.com" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
            </div>
            <div class="form-group" style="text-align: left; margin-top: 15px;">
                <label>Mot de passe</label>
                <input type="password" placeholder="********" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
            </div>
            <button class="btn-confirm-order" style="margin-top: 20px;" onclick="alert('Fonctionnalit√© en cours de d√©veloppement !')">Se connecter</button>
            <p style="margin-top: 15px; font-size: 14px;">Pas encore de compte ? <a href="#" style="color: #ff4747;">S'inscrire</a></p>
        </div>
    </div>
</div>

<script>
function openLoginModal() {
    document.getElementById('login-modal').style.display = 'flex';
}
function closeLoginModal() {
    document.getElementById('login-modal').style.display = 'none';
}
</script>

<style>
/* CSS POUR HEADER */
:root { --primary-color: #ff4747; --dark-color: #222; }
.top-bar { background: var(--dark-color); color: white; text-align: center; padding: 10px; font-size: 14px; font-weight: 600; }
.main-header { background: white; border-bottom: 1px solid #ddd; position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
.header-container { display: flex; align-items: center; justify-content: space-between; padding: 12px 5%; max-width: 1300px; margin: auto; gap: 20px; }
.logo a { font-size: 26px; font-weight: 900; text-decoration: none; color: var(--dark-color); display: block; line-height: 1; }
.logo span { color: var(--primary-color); }
.tagline { font-size: 11px; color: #777; margin-top: 5px; font-weight: 500; font-style: italic; }

.search-box { flex: 1; position: relative; max-width: 500px; }
.search-input-wrapper { display: flex; border: 2px solid var(--primary-color); border-radius: 25px; overflow: hidden; }
#search-input { width: 100%; padding: 10px 20px; border: none; outline: none; }
.search-btn { background: var(--primary-color); border: none; padding: 0 20px; color: white; cursor: pointer; }
.search-dropdown { position: absolute; top: 100%; left: 0; width: 100%; background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); display: none; z-index: 1001; }
.header-actions { display: flex; gap: 25px; align-items: center; }
.action-item { text-align: center; cursor: pointer; color: #444; }
.action-item .icon { font-size: 24px; display: block; }
.action-item .label { font-size: 12px; font-weight: 600; }
.cart-icon-wrapper { position: relative; display: inline-block; }
.badge { position: absolute; top: -8px; right: -12px; background: var(--primary-color); color: white; font-size: 11px; padding: 2px 6px; border-radius: 50%; border: 2px solid white; font-weight: bold; }
.sub-nav { border-top: 1px solid #f0f0f0; background: #fff; }
.nav-links { display: flex; justify-content: center; gap: 30px; padding: 10px; overflow-x: auto; }
.nav-links a { text-decoration: none; color: #666; font-size: 14px; font-weight: 600; white-space: nowrap; }

.modal-overlay {
    display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.85); backdrop-filter: blur(5px);
    justify-content: center; align-items: center; z-index: 2000;
}

@media (max-width: 768px) {
    .header-container { padding: 10px; }
    .search-box { display: none; }
    .hide-mobile { display: none; }
}
</style>
