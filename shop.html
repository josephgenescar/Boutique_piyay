---
layout: default
title: Tous les Produits
---

<link rel="stylesheet" href="{{ '/assets/css/aliexpress-shop-page.css' | relative_url }}">
<script defer src="{{ '/assets/js/shop-filters.js' | relative_url }}"></script>

<div class="shop-container">
  <!-- SIDEBAR FILTERS -->
  <aside class="shop-sidebar">
    <!-- SEARCH FILTER -->
    <div class="filter-panel">
      <div class="filter-header">
        üîç Rechercher
        <span class="filter-toggle">‚ñº</span>
      </div>
      <div class="filter-content">
        <input
          type="text"
          id="shop-search"
          placeholder="Chercher un produit..."
          class="filter-option"
          style="width: 100%; padding: 8px; border: 1px solid #eee; border-radius: 4px;">
      </div>
    </div>

    <!-- CATEGORY FILTER -->
    <div class="filter-panel">
      <div class="filter-header">
        üè∑Ô∏è Cat√©gorie
        <span class="filter-toggle">‚ñº</span>
      </div>
      <div class="filter-content" style="max-height: 300px;">
        <select id="category-filter" style="width: 100%; padding: 8px; border: 1px solid #eee; border-radius: 4px;">
          <option value="">Toutes les cat√©gories</option>
          {% for cat in site.categories %}
            <option value="{{ cat.slug }}">{{ cat.display_name | default: cat.title }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <!-- PRICE FILTER -->
    <div class="filter-panel">
      <div class="filter-header">
        üí∞ Prix
        <span class="filter-toggle">‚ñº</span>
      </div>
      <div class="filter-content">
        <div class="price-range-wrapper">
          <div class="price-inputs">
            <input type="number" id="price-min" class="price-input" placeholder="Min" value="0">
            <span class="price-separator">-</span>
            <input type="number" id="price-max" class="price-input" placeholder="Max" value="10000">
          </div>
        </div>
      </div>
    </div>

    <!-- STOCK FILTER -->
    <div class="filter-panel">
      <div class="filter-header">
        üì¶ Disponibilit√©
        <span class="filter-toggle">‚ñº</span>
      </div>
      <div class="filter-content">
        <div class="filter-option">
          <input type="checkbox" id="filter-in-stock">
          <label for="filter-in-stock">En stock seulement</label>
        </div>
      </div>
    </div>

    <!-- DEALS FILTER -->
    <div class="filter-panel">
      <div class="filter-header">
        üéÅ Promotions
        <span class="filter-toggle">‚ñº</span>
      </div>
      <div class="filter-content">
        <div class="filter-option">
          <input type="checkbox" id="filter-on-sale">
          <label for="filter-on-sale">En promotion</label>
        </div>
        <div class="filter-option">
          <input type="checkbox" id="filter-free-shipping">
          <label for="filter-free-shipping">Livraison gratuite</label>
        </div>
      </div>
    </div>

    <!-- RATING FILTER -->
    <div class="filter-panel">
      <div class="filter-header">
        ‚≠ê Note
        <span class="filter-toggle">‚ñº</span>
      </div>
      <div class="filter-content">
        <div class="filter-option">
          <input type="radio" name="rating" id="rating-4plus" value="4" data-filter="rating">
          <label for="rating-4plus">4+ ‚≠ê et plus</label>
        </div>
        <div class="filter-option">
          <input type="radio" name="rating" id="rating-3plus" value="3" data-filter="rating">
          <label for="rating-3plus">3+ ‚≠ê et plus</label>
        </div>
      </div>
    </div>

    <!-- RESET BUTTON -->
    <button id="reset-filters-btn" class="reset-filters-btn" style="width: 100%; padding: 10px; margin-top: 15px;">
      üîÑ R√©initialiser
    </button>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="shop-main">
    <!-- HEADER -->
    <div class="shop-header-top">
      <h1 class="header-title">üõçÔ∏è Tous les Produits</h1>
      <div class="header-controls">
        <select id="sort-select" class="sort-select">
          <option value="newest">Plus r√©cents</option>
          <option value="popular">Plus populaires</option>
          <option value="price-low">Prix ‚Üó</option>
          <option value="price-high">Prix ‚Üò</option>
          <option value="name">Nom (A-Z)</option>
        </select>
      </div>
    </div>

    <!-- ACTIVE FILTERS TAGS -->
    <div id="active-filters" class="active-filters" style="display: none;"></div>

    <!-- RESULTS COUNT -->
    <div style="padding: 10px 20px; background: white; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
      <span id="results-count">0</span> produit(s) trouv√©(s)
    </div>

    <!-- PRODUCTS GRID -->
    <div id="products-grid-shop" class="products-grid-shop">
      {% for product in site.products %}
      <div class="product-card-shop"
           data-price="{{ product.price }}"
           data-category="{{ product.category }}"
           data-sold="{{ product.sold | default: 0 }}"
           data-date="{{ product.date }}"
           data-in-stock="{{ product.in_stock | default: true }}"
           data-on-sale="{{ product.flash_sale | default: false }}"
           data-rating="{{ product.rating | default: 5 }}">

        <!-- Image Section -->
        <div class="product-image-shop">
          <img src="{{ product.featured_image | default: product.image }}" alt="{{ product.title }}" class="product-img-shop">

          <!-- Badges -->
          <div class="product-badges-shop">
            {% if product.flash_sale %}
              <span class="badge-shop">-{{ product.discount_percent | default: 20 }}%</span>
            {% endif %}
            {% if product.new_arrival %}
              <span class="badge-shop badge-new">Nouveau</span>
            {% endif %}
          </div>

          <!-- Quick Actions -->
          <div class="quick-actions-shop">
            <button class="quick-action-btn" onclick="addToCartShop('{{ product.title }}', {{ product.price }}, '{{ product.featured_image | default: product.image }}')">
              üõí Ajouter
            </button>
            <button class="quick-action-btn" onclick="toggleWishlistShop(event, '{{ product.title }}')">
              ‚ù§Ô∏è Favori
            </button>
          </div>
        </div>

        <!-- Product Info -->
        <div class="product-details-shop">
          <div class="product-seller-shop">
            {% if product.seller %}{{ product.seller }}{% else %}Boutique Piyay{% endif %}
          </div>

          <h3 class="product-title-shop">{{ product.title }}</h3>

          <div class="product-rating-shop">
            <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
            <span>({{ product.reviews_count | default: 0 }})</span>
          </div>

          {% if product.sold %}
          <div class="product-sold-shop">
            {{ product.sold }} vendus
          </div>
          {% endif %}

          <div class="product-price-shop">
            <div class="price-row">
              <span class="product-price-current-shop">{{ product.price }} HTG</span>
              {% if product.original_price %}
                <span class="product-price-original-shop">{{ product.original_price }} HTG</span>
              {% endif %}
            </div>
          </div>

          {% if product.in_stock %}
            <button class="add-to-cart-btn-shop" onclick="addToCartShop('{{ product.title }}', {{ product.price }}, '{{ product.featured_image | default: product.image }}')">
              üõí Ajouter au panier
            </button>
          {% else %}
            <button class="add-to-cart-btn-shop" disabled style="opacity: 0.5; cursor: not-allowed;">
              Indisponible
            </button>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  </main>
</div>

<style>
  /* Hide old styles */
  .shop-page { display: none; }
</style>