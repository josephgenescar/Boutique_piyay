---
layout: default
title: Accueil - Boutique Piyay
---

<!-- 1. HERO BANNER RECTANGULAIRE -->
<section id="hero-marketplace">
  <div class="hero-content container">
    <div class="hero-text-box">
        <span class="badge">üî• Vente Flash -50%</span>
        <h1>Offres exceptionnelles sur nos collections !</h1>
        <p>Qualit√© Premium ‚Ä¢ Meilleur Prix ‚Ä¢ Livraison Rapide</p>
        <a href="#flash-sale" class="btn-primary">Profiter des offres üõçÔ∏è</a>
    </div>
  </div>
</section>

<!-- 2. AFFICHAGE DES PUBS DU HAUT -->
<section class="ads-top container">
    {% for ad in site.promotions %}
        {% if ad.active and ad.position == "top" %}
            <div class="ad-banner">
                <a href="{{ ad.url | default: '#' }}"><img src="{{ ad.image }}" alt="{{ ad.title }}"></a>
            </div>
        {% endif %}
    {% endfor %}
</section>

<!-- 3. FLASH SALE SECTION -->
<section id="flash-sale" class="container">
    <div class="flash-header">
        <div class="flash-title">
            <span class="flash-icon">‚ö°</span>
            <h2>Vente Flash</h2>
            <div id="countdown" class="timer">
                <span id="hours">02</span>:<span id="minutes">30</span>:<span id="seconds">00</span>
            </div>
        </div>
    </div>

    <div class="flash-grid">
        {% for product in site.products %}
            {% if product.flash_sale %}
            <div class="flash-card">
                <div class="discount-badge">SOLDE</div>
                <a href="{{ product.url }}"><img src="{{ product.image }}" alt="{{ product.title }}"></a>
                <div class="flash-info">
                    <h3>{{ product.title }}</h3>
                    <div class="flash-prices">
                        <span class="new-price">{{ product.price }} HTG</span>
                    </div>
                    <button class="btn-flash-buy" onclick="orderProduct('{{ product.title }}', '{{ product.price }}', '{{ product.id }}')">Ajouter</button>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 4. CAT√âGORIES (BULLES) -->
<section id="categories-section" class="container">
  <div class="section-header">
    <h2>Parcourir par Cat√©gorie</h2>
  </div>
  <div class="category-bubbles">
    <a href="/kategori.html?cat=accessoires-electronique" class="cat-bubble">
      <div class="bubble-img">
        <img src="/assets/images/uploads/images-3-.jpg" alt="√âlectronique" onerror="this.parentElement.innerHTML='‚ö°'">
      </div>
      <span>‚ö° √âlectronique</span>
    </a>
    <a href="/kategori.html?cat=habillement" class="cat-bubble">
      <div class="bubble-img">
        <img src="/assets/images/uploads/habillement.jpg" alt="Habillement" onerror="this.parentElement.innerHTML='üëó'">
      </div>
      <span>üëó Habillement</span>
    </a>
    <a href="/kategori.html?cat=maison" class="cat-bubble">
      <div class="bubble-img">
        <img src="/assets/images/uploads/maison.jpg" alt="Maison" onerror="this.parentElement.innerHTML='üè†'">
      </div>
      <span>üè† Maison</span>
    </a>
  </div>
</section>

<!-- 5. REK√íMANDE (CHARGE DARI LOKALSTORAGE) -->
<section id="recommandations" class="container">
  <div class="section-header">
    <h2>‚ú® Rek√≤mande pou ou</h2>
  </div>
  <div id="recommendedProducts" class="product-grid">
    <!-- Charge dari JavaScript -->
  </div>
</section>

<!-- 6. OPEN FOR BUSINESS -->
<section id="open-for-business" class="container">
    <div class="business-card">
        <div class="business-content">
            <h2>üì¢ Open for Business</h2>
            <p>Faites la promotion de votre business sur Boutique Piyay !</p>
            <button class="btn-promo-request" onclick="openPromoModal()">Soumettre ma demande üöÄ</button>
        </div>
    </div>
</section>

<!-- MODAL PROMO -->
<div id="promo-modal" class="modal-overlay" style="display:none;">
    <div class="modal-content" style="max-width: 500px;">
        <div class="modal-header">
            <h2>Demande de Promotion</h2>
            <button class="modal-close" onclick="closePromoModal()">‚úï</button>
        </div>
        <div class="modal-body">
            <form name="demande-promotion" method="POST" data-netlify="true">
                <input type="hidden" name="form-name" value="demande-promotion">
                <div class="form-group">
                    <label>Nom du Business</label>
                    <input type="text" name="business-name" required placeholder="Votre marque" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>Email de contact</label>
                    <input type="email" name="email" required placeholder="email@exemple.com" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>Description du projet</label>
                    <textarea name="message" required placeholder="D√©crivez votre produit..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; height: 100px;"></textarea>
                </div>
                <button type="submit" class="btn-confirm-order" style="margin-top: 20px; width: 100%;">Envoyer ma demande ‚úÖ</button>
            </form>
        </div>
    </div>
</div>

<script>
function openPromoModal() { document.getElementById('promo-modal').style.display = 'flex'; }
function closePromoModal() { document.getElementById('promo-modal').style.display = 'none'; }

function startFlashTimer(duration) {
    var timer = duration, hours, minutes, seconds;
    setInterval(function () {
        hours = parseInt(timer / 3600, 10);
        minutes = parseInt((timer % 3600) / 60, 10);
        seconds = parseInt(timer % 60, 10);
        if (document.getElementById('hours')) {
            document.getElementById('hours').textContent = hours < 10 ? "0" + hours : hours;
            document.getElementById('minutes').textContent = minutes < 10 ? "0" + minutes : minutes;
            document.getElementById('seconds').textContent = seconds < 10 ? "0" + seconds : seconds;
        }
        if (--timer < 0) { timer = duration; }
    }, 1000);
}

// ‚îÄ‚îÄ‚îÄ CHARGE REK√íMANDE DARI LOKALSTORAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function loadRecommended() {
  var products = JSON.parse(localStorage.getItem('bp_products') || '[]');
  var featured = products.filter(p => p.featured).slice(0, 12);
  
  var container = document.getElementById('recommendedProducts');
  if (featured.length === 0) {
    container.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:40px; color:#999;"><p>Poko gen pwodwi rek√≤mande</p></div>';
    return;
  }
  
  container.innerHTML = featured.map(p => {
    return '<div class="product-card">' +
      '<div class="card-img">' +
        (p.image ? '<img src="' + p.image + '" alt="' + p.title + '" onerror="this.style.display=\'none\'">' : '<span style="display:flex;align-items:center;justify-content:center;height:100%;font-size:40px;">üõçÔ∏è</span>') +
      '</div>' +
      '<div class="card-info">' +
        '<h3>' + p.title + '</h3>' +
        '<p style="font-size:12px;color:#666;margin-bottom:8px;">' + p.description.substring(0, 50) + '...</p>' +
        '<div style="color:#ff4747; font-weight:700; font-size:16px; margin-bottom:10px;">' + p.price + ' HTG</div>' +
        '<button class="add-to-cart" onclick="orderProduct(\'' + p.title + '\', ' + p.price + ', \'' + p.id + '\')">üõí Ajoute</button>' +
      '</div>' +
      '</div>';
  }).join('');
}

document.addEventListener('DOMContentLoaded', function() {
  startFlashTimer(3600 * 2.5);
  loadRecommended();
});
</script>

<style>
/* CSS RECONSTITU√â ET S√âCURIS√â */
#hero-marketplace {
    background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=2070&auto=format&fit=crop');
    background-size: cover; background-position: center;
    height: 320px; display: flex; align-items: center; justify-content: center;
    color: white; margin-bottom: 30px; border-radius: 15px; margin-top: 10px;
    text-align: center;
}
.hero-content h1 { font-size: 2.2rem; margin: 10px 0; color: #fff !important; text-shadow: 2px 2px 10px rgba(0,0,0,0.8); }
.hero-content p { color: #eee !important; font-size: 1.1rem; text-shadow: 1px 1px 5px rgba(0,0,0,0.5); }

.flash-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.timer { background: #222; color: #ff4747; padding: 8px 15px; border-radius: 8px; font-weight: bold; font-family: 'Poppins', sans-serif; }

.flash-grid { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 15px; scrollbar-width: none; }
.flash-card { min-width: 190px; background: white; border: 1px solid #eee; border-radius: 12px; padding: 12px; box-shadow: var(--shadow-sm); }
.flash-card img { height: 130px; object-fit: cover; width: 100%; border-radius: 8px; }

.category-bubbles { display: flex; gap: 20px; overflow-x: auto; padding: 15px 0; scrollbar-width: none; }
.cat-bubble { text-align: center; min-width: 90px; text-decoration: none; color: #333; }
.bubble-img { width: 75px; height: 75px; border-radius: 50%; border: 2px solid #ff4747; margin: 0 auto 8px; overflow: hidden; background: #fff; box-shadow: var(--shadow-sm); }
.bubble-img img { width: 100%; height: 100%; object-fit: cover; }

.business-card {
    background: linear-gradient(135deg, #1a2a6c, #b21f1f);
    padding: 40px; border-radius: 20px; color: white; display: flex; align-items: center; justify-content: space-between;
}
.btn-promo-request { background: white; color: #b21f1f; border: none; padding: 12px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; }

.modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; z-index: 3000; }
.modal-content { background: white; width: 95%; max-width: 500px; border-radius: 20px; padding: 30px; }
</style>
