---
layout: default
title: Accueil - Boutique Piyay
---

<!-- 1. HERO BANNER RECTANGULAIRE -->
<section id="hero-marketplace">
  <div class="hero-content container">
    <div class="hero-text-box">
        <span class="badge">üî• Vente Flash -50%</span>
        <h1>Offres exceptionnelles sur nos collections !</h1>
        <p>Qualit√© Premium ‚Ä¢ Meilleur Prix ‚Ä¢ Livraison Rapide</p>
        <a href="#flash-sale" class="btn-primary">Profiter des offres üõçÔ∏è</a>
    </div>
  </div>
</section>

<!-- 2. AFFICHAGE DES PUBS DU HAUT -->
<section class="ads-top container">
    {% for ad in site.promotions %}
        {% if ad.active and ad.position == "top" %}
            <div class="ad-banner">
                <a href="{{ ad.url | default: '#' }}"><img src="{{ ad.image }}" alt="{{ ad.title }}"></a>
            </div>
        {% endif %}
    {% endfor %}
</section>

<!-- 3. FLASH SALE SECTION -->
<section id="flash-sale" class="container">
    <div class="flash-header">
        <div class="flash-title">
            <span class="flash-icon">‚ö°</span>
            <h2>Vente Flash</h2>
            <div id="countdown" class="timer">
                <span id="hours">02</span>:<span id="minutes">30</span>:<span id="seconds">00</span>
            </div>
        </div>
    </div>

    <div class="flash-grid">
        {% for product in site.products %}
            {% if product.flash_sale %}
            <div class="flash-card">
                <div class="discount-badge">SOLDE</div>
                <a href="{{ product.url }}"><img src="{{ product.image }}" alt="{{ product.title }}"></a>
                <div class="flash-info">
                    <h3>{{ product.title }}</h3>
                    <div class="flash-prices">
                        <span class="new-price">{{ product.price }} HTG</span>
                    </div>
                    <button class="btn-flash-buy" onclick="orderProduct('{{ product.title }}', '{{ product.price }}', '{{ product.id }}')">üõí Ajouter</button>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 4. CAT√âGORIES (BULLES DINAMIK) -->
<section id="categories-section" class="container">
  <div class="section-header">
    <h2>Parcourir par Cat√©gorie</h2>
  </div>
  <div class="category-bubbles">
    {% for cat in site.categories %}
    <a href="{{ cat.url }}" class="cat-bubble">
      <div class="bubble-img">
        <img src="{{ cat.image }}" alt="{{ cat.display_name | default: cat.title }}" onerror="this.parentElement.innerHTML='üõçÔ∏è'">
      </div>
      <span>{{ cat.display_name | default: cat.title }}</span>
    </a>
    {% endfor %}
  </div>
</section>

<!-- 5. REK√íMANDE -->
<section id="recommandations" class="container">
  <div class="section-header">
    <h2>‚ú® Rek√≤mande pou ou</h2>
  </div>
  <div class="product-grid">
    {% for product in site.products limit:12 %}
      {% unless product.flash_sale %}
      <div class="product-card">
          <div class="card-img">
              <a href="{{ product.url }}"><img src="{{ product.image }}" alt="{{ product.title }}"></a>
          </div>
          <div class="card-info">
              <h3>{{ product.title }}</h3>
              <div class="price">{{ product.price }} HTG</div>
              <button class="add-to-cart" onclick="orderProduct('{{ product.title }}', '{{ product.price }}', '{{ product.id }}')">üõí Ajouter au panier</button>
          </div>
      </div>
      {% endunless %}
    {% endfor %}
  </div>
</section>

<!-- 6. MODAL PANIER -->
<div id="order-modal" class="modal-overlay" style="display:none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Mon Panier üõí</h2>
            <button class="modal-close" onclick="closeOrderModal()">‚úï</button>
        </div>
        <div id="order-summary" class="modal-body"></div>
        <div class="modal-footer">
            <div class="order-form">
                <input type="text" id="customer-name" placeholder="Votre nom complet" required>
                <input type="tel" id="customer-phone" placeholder="Num√©ro WhatsApp" required>
                <select id="payment-method">
                    <option value="MonCash">MonCash</option>
                    <option value="NatCash">NatCash</option>
                    <option value="Cash √† la livraison">Cash √† la livraison</option>
                </select>
                <button class="btn-confirm-order" onclick="submitOrder()">Confirmer via WhatsApp ‚úÖ</button>
            </div>
        </div>
    </div>
</div>

<script src="/main.js"></script>
<script>
function startFlashTimer(duration) {
    var timer = duration, hours, minutes, seconds;
    setInterval(function () {
        hours = parseInt(timer / 3600, 10);
        minutes = parseInt((timer % 3600) / 60, 10);
        seconds = parseInt(timer % 60, 10);
        if (document.getElementById('hours')) {
            document.getElementById('hours').textContent = hours < 10 ? "0" + hours : hours;
            document.getElementById('minutes').textContent = minutes < 10 ? "0" + minutes : minutes;
            document.getElementById('seconds').textContent = seconds < 10 ? "0" + seconds : seconds;
        }
        if (--timer < 0) { timer = duration; }
    }, 1000);
}
document.addEventListener('DOMContentLoaded', function() { startFlashTimer(3600 * 2.5); });
</script>

<style>
/* CSS MODAL & GRID */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 9999; display: flex; justify-content: center; align-items: center; }
.modal-content { background: white; width: 95%; max-width: 500px; border-radius: 15px; padding: 20px; max-height: 90vh; overflow-y: auto; }
.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px; }
.modal-close { background: none; border: none; font-size: 24px; cursor: pointer; }
.order-form input, .order-form select { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 8px; }
.btn-confirm-order { width: 100%; padding: 15px; background: #25d366; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; }

#hero-marketplace {
    background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('/assets/images/uploads/images.jpg');
    background-size: cover; background-position: center;
    height: 350px; display: flex; align-items: center; justify-content: center;
    color: white; margin-bottom: 30px; border-radius: 15px; text-align: center;
}
.category-bubbles { display: flex; gap: 20px; overflow-x: auto; padding: 15px 0; scrollbar-width: none; }
.cat-bubble { text-align: center; min-width: 100px; text-decoration: none; color: #333; transition: 0.3s; }
.cat-bubble:hover { transform: scale(1.1); }
.bubble-img { width: 85px; height: 85px; border-radius: 50%; border: 3px solid #ff4747; margin: 0 auto 10px; overflow: hidden; background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
.bubble-img img { width: 100%; height: 100%; object-fit: cover; }
.cat-bubble span { font-weight: 600; font-size: 14px; }

.product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; margin-top: 20px; }
.product-card { background: white; border: 1px solid #eee; border-radius: 12px; padding: 12px; transition: 0.3s; }
.product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
.card-img img { width: 100%; height: 160px; object-fit: cover; border-radius: 8px; }
.price { color: #ff4747; font-weight: bold; font-size: 16px; margin: 8px 0; }
.add-to-cart { width: 100%; padding: 8px; background: #ff4747; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; font-weight: bold; }
</style>
